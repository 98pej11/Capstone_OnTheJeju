
1. 패치조인을 사용하였습니다, 

2. n+1 발생되는 테이블에서 조회를 하고 dto에 붙이는 형식으로 함 이때 여기서
    1. where 의 in절 조건 리스트가 많지 않는 경우: 그냥 디비에서 꺼내서 어플리케이션 영역에서 collection 자료구조의 groupby, limit를 사용해서 붙이는 형식으로 했음,한번에 많은 양을
       디비에서 가져오는것은 리소스 과부하라고 생각
        - -> 어플리케이션에서 groupby, limit
    2. in절 조건에 리스트사이즈가 큰 경우:  디비에서 groupby, limit 로 처리함 -> db에서 groupby , limit c -> 
	- groupby 는 whishlist 에서 각 패키지마다 관광지별로 3개의 사진을 보여주는데 
		- 각 패키지안에 관광지id 기준으로 groupby하고 limit 3을 걸어주어 처리하였다 

## route 경로 화면에서 특정 favorite(ex. 1일차)에 있는 사진들
- 이부부은 (쓸데없이) 패치조인으로 했다 
-> 리팩토링시 groupyby로 해결하자


## 메인 페이지

메인 페이지에서느 각 관광지마다 3개의 사진으로 가져와야 한다
- toOne 관계에 있는 사진 데이터를 모두 가져오고 ==service 영역에서== stream.groupby , limit(3)으로 묶어서 각각의 관광지 dto에 넣어 줘서 해결해 줬다
-> picture 테이블에서 메인 페이지에 나타낼 spot id 조건으로 모두 검색해서 가져온다 (이부분은 그냥 패치 조인해서 가져오는거랑 성능이 같다 -> 리팩토링 프로젝트에서 그냥 패치조인으로 하자)

## 최단 경로, route top10에서 사진들
- 모두 groupby 로 해결

1. 최단 경로 주변 관광지 추천할때 관광지당 사진1개 가져와야 한다
-> 이것도 groupby로 해결한다

2. whishlist 목록 페이지에서 각 카테고리(1일차, 2일차)마다 대표사진으 3개를 가여와야 한다
- 이는 groupby 는 whishlist 에서 각 패키지마다 관광지별로 3개의 사진을 보여주는데 
		- 각 패키지안에 관광지id 기준으로 groupby하고 limit 3을 걸어주어 처리하였다 

